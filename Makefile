#----------------------------------------------------------------------
# Go settings
#----------------------------------------------------------------------
GOCMD=go
GOBUILD=$(GOCMD) build
GOCLEAN=$(GOCMD) clean
GOGET=$(GOCMD) get

#----------------------------------------------------------------------
# Project properties
#----------------------------------------------------------------------
BINARY=NigtenGO-Bot

#----------------------------------------------------------------------
# Standard option to run
#----------------------------------------------------------------------
all: build

#----------------------------------------------------------------------
# General building procedure
#----------------------------------------------------------------------
build: deps
	@echo "Building..."
	@$(GOBUILD) -v -o $(BINARY)

#----------------------------------------------------------------------
# Cleanup
#----------------------------------------------------------------------
clean:
	@echo "Cleaning..."
	@$(GOCLEAN)
	@rm -f $(BINARY)

#----------------------------------------------------------------------
# Dependency retrieval.
#----------------------------------------------------------------------
deps:
	@echo "Getting dependencies..."
	@$(GOGET) github.com/bwmarrin/discordgo
	@$(GOGET) github.com/MikeModder/anpan
	@$(GOGET) github.com/apaxa-go/eval